<div class="login-container">
  <nb-card accent="primary" [nbSpinner]="loading" nbSpinnerStatus="primary">
    <nb-card-header>Iniciar sesión</nb-card-header>
    <nb-card-body>
      <form [formGroup]="loginForm" autocomplete="off" (ngSubmit)="login()">
        <div class="form-group">
          <input
            nbInput
            fullWidth
            placeholder="Email"
            type="text"
            [status]="
              formValidationService.isValidField(loginForm, 'email')
                ? 'danger'
                : 'primary'
            "
            formControlName="email"
          />
          <span
            *ngIf="formValidationService.isValidField(loginForm, 'email')"
            class="form-text text-danger"
          >
            {{ formValidationService.getFieldError(loginForm, "email") }}
          </span>
        </div>
        <div class="form-group">
          <input
            nbInput
            fullWidth
            placeholder="Contraseña"
            type="password"
            [status]="
              formValidationService.isValidField(loginForm, 'password')
                ? 'danger'
                : 'primary'
            "
            formControlName="password"
          />
          <span
            *ngIf="formValidationService.isValidField(loginForm, 'password')"
            class="form-text text-danger"
          >
            {{ formValidationService.getFieldError(loginForm, "password") }}
          </span>
        </div>
        <button
          nbButton
          status="primary"
          type="submit"
          [disabled]="!loginForm.valid"
          fullWidth
        >
          Ingresar
        </button>
      </form>
    </nb-card-body>
  </nb-card>
</div>
